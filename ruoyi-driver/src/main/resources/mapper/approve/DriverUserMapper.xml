<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.approve.mapper.DriverUserMapper">
    
    <resultMap type="com.ruoyi.approve.domain.DriverUser" id="DriverUserResult">
        <result property="id"    column="id"    />
        <result property="address"    column="address"    />
        <result property="driverName"    column="driver_name"    />
        <result property="driverPhone"    column="driver_phone"    />
        <result property="driverGender"    column="driver_gender"    />
        <result property="driverBirthday"    column="driver_birthday"    />
        <result property="driverNation"    column="driver_nation"    />
        <result property="driverContactAddress"    column="driver_contact_address"    />
        <result property="licenseId"    column="license_id"    />
        <result property="getDriverLicenseDate"    column="get_driver_license_date"    />
        <result property="driverLicenseOn"    column="driver_license_on"    />
        <result property="driverLicenseOff"    column="driver_license_off"    />
        <result property="taxiDriver"    column="taxi_driver"    />
        <result property="certificateNo"    column="certificate_no"    />
        <result property="networkCarIssueOrganization"    column="network_car_issue_organization"    />
        <result property="networkCarIssueDate"    column="network_car_issue_date"    />
        <result property="getNetworkCarProofDate"    column="get_network_car_proof_date"    />
        <result property="networkCarProofOn"    column="network_car_proof_on"    />
        <result property="networkCarProofOff"    column="network_car_proof_off"    />
        <result property="registerDate"    column="register_date"    />
        <result property="commercialType"    column="commercial_type"    />
        <result property="contractCompany"    column="contract_company"    />
        <result property="contractOn"    column="contract_on"    />
        <result property="contractOff"    column="contract_off"    />
        <result property="state"    column="state"    />
        <result property="gmtCreate"    column="gmt_create"    />
        <result property="gmtModified"    column="gmt_modified"    />
        <result property="cardFrontImage"    column="card_front_image"    />
        <result property="cardReverseImage"    column="card_reverse_image"    />
        <result property="driverPhoto"    column="driver_photo"    />
        <result property="facePhoto"    column="face_photo"    />
    </resultMap>

    <sql id="selectDriverUserVo">
        select id, address, driver_name, driver_phone, driver_gender, driver_birthday, driver_nation, driver_contact_address, license_id, get_driver_license_date, driver_license_on, driver_license_off, taxi_driver, certificate_no, network_car_issue_organization, network_car_issue_date, get_network_car_proof_date, network_car_proof_on, network_car_proof_off, register_date, commercial_type, contract_company, contract_on, contract_off, state, gmt_create, gmt_modified, card_front_image, card_reverse_image, driver_photo, face_photo from driver_user
    </sql>

    <select id="selectDriverUserList" parameterType="com.ruoyi.approve.domain.DriverUser" resultMap="DriverUserResult">
        <include refid="selectDriverUserVo"/>
        <where>  
            <if test="driverName != null  and driverName != ''"> and driver_name like concat('%', #{driverName}, '%')</if>
            <if test="driverPhone != null  and driverPhone != ''"> and driver_phone = #{driverPhone}</if>
            <if test="driverBirthday != null "> and driver_birthday = #{driverBirthday}</if>
        </where>
    </select>
    
    <select id="selectDriverUserById" parameterType="Long" resultMap="DriverUserResult">
        <include refid="selectDriverUserVo"/>
        where id = #{id}
    </select>

    <insert id="insertDriverUser" parameterType="com.ruoyi.approve.domain.DriverUser" useGeneratedKeys="true" keyProperty="id">
        insert into driver_user
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="address != null">address,</if>
            <if test="driverName != null">driver_name,</if>
            <if test="driverPhone != null">driver_phone,</if>
            <if test="driverGender != null">driver_gender,</if>
            <if test="driverBirthday != null">driver_birthday,</if>
            <if test="driverNation != null">driver_nation,</if>
            <if test="driverContactAddress != null">driver_contact_address,</if>
            <if test="licenseId != null">license_id,</if>
            <if test="getDriverLicenseDate != null">get_driver_license_date,</if>
            <if test="driverLicenseOn != null">driver_license_on,</if>
            <if test="driverLicenseOff != null">driver_license_off,</if>
            <if test="taxiDriver != null">taxi_driver,</if>
            <if test="certificateNo != null">certificate_no,</if>
            <if test="networkCarIssueOrganization != null">network_car_issue_organization,</if>
            <if test="networkCarIssueDate != null">network_car_issue_date,</if>
            <if test="getNetworkCarProofDate != null">get_network_car_proof_date,</if>
            <if test="networkCarProofOn != null">network_car_proof_on,</if>
            <if test="networkCarProofOff != null">network_car_proof_off,</if>
            <if test="registerDate != null">register_date,</if>
            <if test="commercialType != null">commercial_type,</if>
            <if test="contractCompany != null">contract_company,</if>
            <if test="contractOn != null">contract_on,</if>
            <if test="contractOff != null">contract_off,</if>
            <if test="state != null">state,</if>
            <if test="gmtCreate != null">gmt_create,</if>
            <if test="gmtModified != null">gmt_modified,</if>
            <if test="cardFrontImage != null">card_front_image,</if>
            <if test="cardReverseImage != null">card_reverse_image,</if>
            <if test="driverPhoto != null">driver_photo,</if>
            <if test="facePhoto != null">face_photo,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="address != null">#{address},</if>
            <if test="driverName != null">#{driverName},</if>
            <if test="driverPhone != null">#{driverPhone},</if>
            <if test="driverGender != null">#{driverGender},</if>
            <if test="driverBirthday != null">#{driverBirthday},</if>
            <if test="driverNation != null">#{driverNation},</if>
            <if test="driverContactAddress != null">#{driverContactAddress},</if>
            <if test="licenseId != null">#{licenseId},</if>
            <if test="getDriverLicenseDate != null">#{getDriverLicenseDate},</if>
            <if test="driverLicenseOn != null">#{driverLicenseOn},</if>
            <if test="driverLicenseOff != null">#{driverLicenseOff},</if>
            <if test="taxiDriver != null">#{taxiDriver},</if>
            <if test="certificateNo != null">#{certificateNo},</if>
            <if test="networkCarIssueOrganization != null">#{networkCarIssueOrganization},</if>
            <if test="networkCarIssueDate != null">#{networkCarIssueDate},</if>
            <if test="getNetworkCarProofDate != null">#{getNetworkCarProofDate},</if>
            <if test="networkCarProofOn != null">#{networkCarProofOn},</if>
            <if test="networkCarProofOff != null">#{networkCarProofOff},</if>
            <if test="registerDate != null">#{registerDate},</if>
            <if test="commercialType != null">#{commercialType},</if>
            <if test="contractCompany != null">#{contractCompany},</if>
            <if test="contractOn != null">#{contractOn},</if>
            <if test="contractOff != null">#{contractOff},</if>
            <if test="state != null">#{state},</if>
            <if test="gmtCreate != null">#{gmtCreate},</if>
            <if test="gmtModified != null">#{gmtModified},</if>
            <if test="cardFrontImage != null">#{cardFrontImage},</if>
            <if test="cardReverseImage != null">#{cardReverseImage},</if>
            <if test="driverPhoto != null">#{driverPhoto},</if>
            <if test="facePhoto != null">#{facePhoto},</if>
         </trim>
    </insert>

    <update id="updateDriverUser" parameterType="com.ruoyi.approve.domain.DriverUser">
        update driver_user
        <trim prefix="SET" suffixOverrides=",">
            <if test="address != null">address = #{address},</if>
            <if test="driverName != null">driver_name = #{driverName},</if>
            <if test="driverPhone != null">driver_phone = #{driverPhone},</if>
            <if test="driverGender != null">driver_gender = #{driverGender},</if>
            <if test="driverBirthday != null">driver_birthday = #{driverBirthday},</if>
            <if test="driverNation != null">driver_nation = #{driverNation},</if>
            <if test="driverContactAddress != null">driver_contact_address = #{driverContactAddress},</if>
            <if test="licenseId != null">license_id = #{licenseId},</if>
            <if test="getDriverLicenseDate != null">get_driver_license_date = #{getDriverLicenseDate},</if>
            <if test="driverLicenseOn != null">driver_license_on = #{driverLicenseOn},</if>
            <if test="driverLicenseOff != null">driver_license_off = #{driverLicenseOff},</if>
            <if test="taxiDriver != null">taxi_driver = #{taxiDriver},</if>
            <if test="certificateNo != null">certificate_no = #{certificateNo},</if>
            <if test="networkCarIssueOrganization != null">network_car_issue_organization = #{networkCarIssueOrganization},</if>
            <if test="networkCarIssueDate != null">network_car_issue_date = #{networkCarIssueDate},</if>
            <if test="getNetworkCarProofDate != null">get_network_car_proof_date = #{getNetworkCarProofDate},</if>
            <if test="networkCarProofOn != null">network_car_proof_on = #{networkCarProofOn},</if>
            <if test="networkCarProofOff != null">network_car_proof_off = #{networkCarProofOff},</if>
            <if test="registerDate != null">register_date = #{registerDate},</if>
            <if test="commercialType != null">commercial_type = #{commercialType},</if>
            <if test="contractCompany != null">contract_company = #{contractCompany},</if>
            <if test="contractOn != null">contract_on = #{contractOn},</if>
            <if test="contractOff != null">contract_off = #{contractOff},</if>
            <if test="state != null">state = #{state},</if>
            <if test="gmtCreate != null">gmt_create = #{gmtCreate},</if>
            <if test="gmtModified != null">gmt_modified = #{gmtModified},</if>
            <if test="cardFrontImage != null">card_front_image = #{cardFrontImage},</if>
            <if test="cardReverseImage != null">card_reverse_image = #{cardReverseImage},</if>
            <if test="driverPhoto != null">driver_photo = #{driverPhoto},</if>
            <if test="facePhoto != null">face_photo = #{facePhoto},</if>
        </trim>
        where id = #{id}
    </update>
    <update id="updateCarStatus">
        update driver_user set state = #{state} where id = #{id}
    </update>

    <delete id="deleteDriverUserById" parameterType="Long">
        delete from driver_user where id = #{id}
    </delete>

    <delete id="deleteDriverUserByIds" parameterType="String">
        delete from driver_user where id in 
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>
</mapper>